(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{82839:function(e,t,s){Promise.resolve().then(s.t.bind(s,231,23)),Promise.resolve().then(s.bind(s,23686)),Promise.resolve().then(s.bind(s,50930))},87138:function(e,t,s){"use strict";s.d(t,{default:function(){return a.a}});var n=s(231),a=s.n(n)},23686:function(e,t,s){"use strict";var n=s(57437),a=s(2265),i=s(43785),l=s.n(i);t.default=()=>{let[e,t]=(0,a.useState)(""),[s,i]=(0,a.useState)(""),[c,r]=(0,a.useState)(""),[d,o]=(0,a.useState)(""),[h,u]=(0,a.useState)(""),[m,p]=(0,a.useState)(null),x=async n=>{n.preventDefault();let a=new FormData;a.append("title",e),a.append("price",s),a.append("offer",c),a.append("amen",d),a.append("desc",h),a.append("image",m);try{let e=await fetch("http://localhost:3000/api/admin/add-product",{method:"POST",body:a});(await e.json()).success?(alert("Product added successfully"),t(""),i(""),r(""),u(""),o(""),p("")):alert("Product creation failed")}catch(e){console.error("Error:",e)}};return(0,n.jsxs)("div",{className:l().container,children:[(0,n.jsx)("h1",{children:"Add Record"}),(0,n.jsxs)("form",{onSubmit:x,encType:"multipart/form-data",children:[(0,n.jsxs)("div",{className:l().fields,children:[(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("h3",{children:"Title"}),(0,n.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value)})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{children:"Price"}),(0,n.jsx)("input",{type:"number",value:s,onChange:e=>i(e.target.value)})]})]}),(0,n.jsxs)("div",{className:l().fields,children:[(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("h3",{children:"Offer"}),(0,n.jsx)("input",{type:"number",value:c,onChange:e=>r(e.target.value)})]}),(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("h3",{children:"Amenities"}),(0,n.jsx)("input",{type:"text",value:d,onChange:e=>o(e.target.value)})]})]}),(0,n.jsxs)("div",{className:l().textField,children:[(0,n.jsx)("h3",{children:"Description"}),(0,n.jsx)("textarea",{type:"text",rows:"5",value:h,onChange:e=>u(e.target.value)})]}),(0,n.jsxs)("div",{className:l().textField,children:[(0,n.jsx)("h3",{children:"Upload Image"}),(0,n.jsx)("input",{type:"file",accept:"image/*",onChange:e=>p(e.target.files[0])})]}),(0,n.jsx)("div",{className:l().submit,children:(0,n.jsx)("button",{type:"submit",children:"Submit"})})]})]})}},50930:function(e,t,s){"use strict";var n=s(57437),a=s(2265),i=s(87138);t.default=()=>{let[e,t]=(0,a.useState)([]),s=async()=>{try{console.log("Fetching data...");let e=await fetch("http://localhost:3000/api/admin/add-product");if(console.log("Response status:",e.status),!e.ok)throw Error("Network response was not ok");let s=await e.json();console.log("Fetched data:",s),t(s.data||[])}catch(e){console.error("Failed to fetch product data:",e)}};return(0,a.useEffect)(()=>{s()},[]),(0,a.useEffect)(()=>{console.log("Collections state updated:",e)},[e]),(0,n.jsxs)("div",{className:"productSection",children:[(0,n.jsx)("h1",{align:"center",children:"Select your Stay"}),e.length>0?e&&e.map(e=>(0,n.jsxs)("div",{className:"proDetail",children:[(0,n.jsxs)("div",{className:"left",children:[(0,n.jsx)("div",{className:"title",children:e.title}),(0,n.jsx)("br",{}),(0,n.jsx)("img",{src:e.image,alt:e.title,className:"roomImage"})]}),(0,n.jsxs)("div",{className:"center",children:[(0,n.jsxs)("div",{className:"pamen",children:[(0,n.jsxs)("h2",{className:"price",children:["Rs. ",e.price]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{children:"Amenities"}),e.amen.map((e,t)=>(0,n.jsx)("div",{className:"amenities",children:(0,n.jsxs)("div",{children:["*",e]})},t))]})]}),(0,n.jsx)("div",{className:"right",children:(0,n.jsx)(i.default,{href:"/detail/".concat(e._id),children:(0,n.jsx)("button",{className:"detail",children:"Details"})})})]})]},e._id)):(0,n.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"},children:"No products available"})]})}},43785:function(e){e.exports={formContainer:"components_formContainer__bFBnf",formSection:"components_formSection__ngI0H",input:"components_input__L6N5h",regBtn:"components_regBtn__77f_B",container:"components_container__Zpovh",fields:"components_fields__5iy02",textField:"components_textField__1PkQw",submit:"components_submit__dQJWw"}}},function(e){e.O(0,[417,231,971,23,744],function(){return e(e.s=82839)}),_N_E=e.O()}]);